# PHP进阶

## 数组

数组就是一个键值对组成的语言结构，键类似于酒店的房间号，值类似于酒店房间里存储的东西。  
创建一个空数组，并赋值给变量$arr：

	$arr = array();

PHP有两种数组：索引数组、关联数组。  
索引和关联两个词都是针对数组的键而言的。  

### 索引数组

索引数组是指数组的**键是整数**的数组，并且键的整数顺序是**从0开始**，依次类推。  

可以使用`print_r($fruit);`输出数组键几对应的值。

索引数组赋值方式：
- $arr[0]='苹果';
- array('0'=>'苹果');
- array('苹果');

1. 数组变量名的后面加一个中括号
2. array()一个空数组，用`=>`分割键和值
3. array()一个空数组，直接在数组里赋值，默认键是从0开始的。

$arr = array("苹果");

访问索引数组内容：  
用数组变量的名字后跟的中括号中的键，来访问数组中的值。

	<?php
	//从数组变量$arr中，读取键为0的值
	$arr = array('苹果','香蕉');
	$arr0 = $arr[1];
	if( isset($arr0) ) {print_r($arr0);}
	?>

其中 $arr[1] 的 1 是否需要引号引起来？测试结果好像都可以。


for循环访问索引数组里的值（这是遍历数组了吧？）  

	<?php
	$fruit=array('苹果','香蕉','菠萝');
	for($index=0; $index<3; $index++){
	    echo '<br>数组第'.$index.'值是：'.$fruit[$index];
	}
	?>

教程里还有个 foreach循环访问索引数组里的值  
不过本身对 foreach 并不太了解，就不把例子列出来。 

### 关联数组

关联数组是指数组的键是字符串的数组  
这样就不能用`array('苹果');`了，这样默认键值是从0开始，要用`array('apple'=>'苹果');`使用字符串。

关联数组赋值：
- $arr['apple']='苹果';
- array('apple'=>'苹果');

也就是不能用索引数组的第三种方式。

访问关联数组内容的方式，和访问索引数组一样的，把键改成字符串就行。  
应该不能用 for 循环访问了吧。for 循环从0递增。

能用 foreach 循环访问：

	<?php
	$fruit=array('apple'=>"苹果",'banana'=>"香蕉",'pineapple'=>"菠萝");
	foreach($fruit as $key=>$value){
	    echo '<br>键是：'.$key.'，对应的值是：'.$value;
	}

	?>

## 自定义函数

PHP函数的定义方式：

1.使用关键字“function”开始
2.函数名可以是字母或下划线开头：function name()
3.在大括号中编写函数体：

	function name() {
	    echo 'Hello';
	}

调用方式：  
调用方法为函数名+参数，例如：`name();`

### 参数

参数类似于一个变量，调用时用来传递数据到函数体中。  
通过传递参数可以使函数实现对参数的运算，得到我们想要的结果。


使用return关键字可以使函数返回值，可以返回包括数组和对象的任意类型，如果省略了 return，则默认返回值为 NULL。

[返回值](http://www.imooc.com/code/312)这一节还要多看几遍。

### 可变函数

所谓可变函数，即通过变量的值来调用函数，因为变量的值是可变的，所以可以通过改变一个变量的值来实现调用不同的函数。  
经常会用在回调函数、函数列表。

不明白……

## 内置函数

使用`function_exists`判断一下函数是否存在 `method_exists`可以检测类的方法是否存在  
`class_exists`类是否定义

PHP中有很多这类检测方法。

## 类和对象

通俗的理解类就是对现实中某一个种类的东西的抽象， 比如汽车可以抽象为一个类，汽车拥有名字、轮胎、速度、重量等属性，可以有换挡、前进、后退等操作方法。   
类有属性和方法

类是一类东西的结构描述，而对象则是一类东西的一个具体实例，例如汽车这个名词可以理解为汽车的总类，但这辆汽车则是一个具体的汽车对象。

类是抽象的概念，对象是具体的实例。

定义一个类：  
类通过关键字class开头，然后是类名与花括号，在花括号中定义类的属性与方法。

在类中定义的变量称之为**属性**  
属性声明由关键字 public、protected、private 开头，后面跟一个普通的变量声明

	class Car {
	    //定义公共属性
	    public $name = '汽车';

	    //定义受保护的属性
	    protected $corlor = '白色';

	    //定义私有属性
	    private $price = '100000';
	}

默认都为public，外部可以访问。一般通过->对象操作符来访问对象的属性或者方法：

	$car = new Car();
	echo $car->name;   //调用对象的属性
	echo $car->color;  //错误 受保护的属性不允许外部调用
	echo $car->price;  //错误 私有属性不允许外部调用

受保护的属性与私有属性不允许外部调用，在类的成员方法内部是可以调用的。

	class Car{
	    private $price = '1000';
	    public function getPrice() {
	        return $this->price; //内部访问私有属性
	​    }
	}


定义类的方法：

方法就是在类中的function。  
方法和函数有什么差别？  
面向过程——function叫函数  
面向对象——function叫方法  

类的方法也分public protected private

使用关键字static修饰的，称之为静态方法，静态方法不需要实例化对象，可以通过类名直接调用，操作符为双冒号::

	class Car {
	    public static function getName() {
	        return '汽车';
	    }
	​}
	echo Car::getName(); //结果为“汽车”


构造函数和析构函数

使用__construct()定义一个构造函数  
常用来在对象创建的时候进行一些初始化工作。

PHP5支持析构函数，使用__destruct()进行定义，析构函数指的是当某个对象的所有引用被删除，或者对象被显式的销毁时会执行的函数。








## 字符串

### 定义字符串

- 单引号
- 双引号
- heredoc语法结构

	$hello = <<<TAG
	hello world
	TAG;

### 单引号和双引号的区别

PHP允许我们在双引号串中直接包含字串变量。  
而单引号串中的内容总被认为是普通字符。

	$str='hello';
	echo "str is $str"; //运行结果: str is hello
	echo 'str is $str'; //运行结果: str is $str

### 字符串连接符:`.`

### 去掉两边的空格

- trim
- rtrim
- ltrim

### 字符串截取

1. 英文字符串的截取函数substr()

函数说明：substr(字符串变量,开始截取的位置，截取个数）  
substr函数计算字符串位置是从0开始的，空格也算

2. 中文字符串的截取函数mb_substr()

函数说明：mb_substr(字符串变量,开始截取的位置，截取个数, 网页编码）

### 查找字符串

strpos();

函数说明：strpos(要处理的字符串, 要定位的字符串, 定位的起始位置[可选])

### 替换字符串

函数说明：str_replace(要查找的字符串, 要替换的字符串, 被搜索的字符串, 替换进行计数[可选])

### 格式化字符串

函数说明：sprintf(格式, 要转化的字符串)

格式化字符函数中的第一个参数有点麻烦。
























